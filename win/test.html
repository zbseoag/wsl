
<p id="abc" class="dddd">dfssff</p>
<script>
    p = console.log
    start = () => console.log('start')
    stop = () => console.log('stop')



/*
    function resolveAfter2Seconds(x) {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve(x);
                }, 2000);
            });
        }

        async function f1() {
            var x = await resolveAfter2Seconds(10);
            console.log(x); // 10
        }

        f1();


   
    class A {
            constructor() {
                console.log(new.target.name);
            }
        }

        class B extends A { constructor() { super(); } }

        var a = new A(); // logs "A"
        var b = new B(); // logs "B"

        class C { constructor() { console.log(new.target); } }
        class D extends C { constructor() { super(); } }

        var c = new C(); // logs class C{constructor(){console.log(new.target);}}
        var d = new D(); // logs class D extends C{constructor(){super();}}



    let f = ({ x: c, y:b } = { x: 2,y:5 }) => c + b;
    p(f());  // 6


    var f2 = () => { 'use strict'; return this; };
    p(f2() === window); // 或者 global


    fetch(myRequest).then(function(response) {
  return response.blob();
})

const promise1 = new Promise((resolve, reject) => {
  resolve('Success!');
});

promise1.then((value) => {
  console.log(value);
  // expected output: "Success!"
});


上传多个文件
可以通过HTML <input type="file" mutiple/> 元素，FormData() 和 fetch() 上传文件。

var formData = new FormData();
var photos = document.querySelector("input[type='file'][multiple]");

formData.append('title', 'My Vegas Vacation');
// formData 只接受文件、Blob 或字符串，不能直接传递数组，所以必须循环嵌入
for (let i = 0; i < photos.files.length; i++) {
    formData.append('photo', photos.files[i]);
}

fetch('https://example.com/posts', {
  method: 'POST',
  body: formData
})
.then(response => response.json())
.then(response => console.log('Success:', JSON.stringify(response)))
.catch(error => console.error('Error:', error));




    function ajax(url) {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest();
            xhr.open("GET", url);
            xhr.onload = () => resolve(xhr.responseText);
            xhr.onerror = () => reject(xhr.statusText);
            xhr.send();
        });
    }

    ajax('http://api.com/').then(function(val){
        p(val);
    });
JSON.stringify


*/


class Elem {

    /**
        可以通过  #id | .class | <tag>| name  四种形式来查找元素
    **/
    constructor(selecter) {

        this.selecter = selecter;
        this.elements = [];
        selecter = this.selecter.replace(/#(.+)/, '$1');
        if (this.selecter != selecter){
              this.element = this.elements[0] = document.getElementById(selecter);
        }else{
            selecter = this.selecter.replace(/<(.+)>/, '$1');
            if (this.selecter != selecter) {
                this.elements = document.getElementsByTagName(selecter);

            }else{
                selecter = this.selecter.replace(/\.(.+)/, '$1');
                if (this.selecter != selecter){
                     this.elements = document.getElementsByClassName(selecter);
                }else {
                    document.getElementsByName(this.selecter);
                }
            }
        }
    }

    static one(selecter){
        this.element = this.elements = document.querySelector(selecter);
        return this;
    }

    static all(selecter) {
        this.elements = document.querySelectorAll(selecter);
        return this;
    }

    static save(name, value){
        sessionStorage.setItem(name,  value);
        return this;
    }

    static take(name){
        return  sessionStorage.getItem(name);
    }

    item(index=0){
        this.element = this.elements[index];
        return this;
    }

    get(index = 0) {
        return this.elements[index];
    }

    attr(name = 'value', value = undefined){
        return (value != undefined)? this.element.setAttribute(name, value) : this.element.getAttribute(name);
    }

    get attrs() {
        return this.element.attributes;
    }

    parent(){
        return this.element.parentNode;
    }

    childNode(index){
        return this.element.childNodes.item(index);
    }

    rmChild(index){
        this.element.removeChild(this.element.childNodes[index]);
        return this;
    }

    listen(event, func){
        this.element.addEventListener(event, func);
        return this;
    }
    

}
    
new Elem('#abc').listen('click',  ()=>{  alert('clicked me!');  })

Elem.save('name', "张三").take('name')




























































































</script>